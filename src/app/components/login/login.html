<div class="login-container">
  <mat-card class="login-card">
    <mat-card-header>
      <mat-card-title>Connect to Azure DevOps</mat-card-title>
      <mat-card-subtitle>Enter your Azure DevOps organization details</mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Organization URL</mat-label>
          <input matInput 
                 formControlName="organizationUrl" 
                 placeholder="https://dev.azure.com/yourorg"
                 required>
          <mat-hint>Your Azure DevOps organization URL</mat-hint>
          <mat-error *ngIf="loginForm.get('organizationUrl')?.errors?.['required']">
            Organization URL is required
          </mat-error>
          <mat-error *ngIf="loginForm.get('organizationUrl')?.errors?.['pattern']">
            Please enter a valid Azure DevOps URL
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Project Name</mat-label>
          <input matInput 
                 formControlName="projectName" 
                 placeholder="MyProject"
                 required>
          <mat-hint>Your Azure DevOps project name</mat-hint>
          <mat-error *ngIf="loginForm.get('projectName')?.errors?.['required']">
            Project name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Personal Access Token</mat-label>
          <input matInput 
                 type="password"
                 formControlName="accessToken" 
                 placeholder="Your PAT token"
                 required>
          <mat-hint>
            <a href="https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate" 
               target="_blank" rel="noopener">
              How to create a Personal Access Token
            </a>
          </mat-hint>
          <mat-error *ngIf="loginForm.get('accessToken')?.errors?.['required']">
            Access token is required
          </mat-error>
        </mat-form-field>

        <div class="form-actions">
          <button mat-raised-button 
                  color="primary" 
                  type="submit" 
                  [disabled]="loginForm.invalid || isLoading"
                  class="full-width">
            <mat-icon *ngIf="isLoading">refresh</mat-icon>
            {{ isLoading ? 'Connecting...' : 'Connect' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

  <div class="info-section">
    <mat-card>
      <mat-card-content>
        <h3>Getting Started</h3>
        <ol>
          <li>Go to your Azure DevOps organization</li>
          <li>Create a Personal Access Token with Work Items (read & write) permissions</li>
          <li>Enter your organization URL, project name, and token above</li>
          <li>Start managing your work items on the Kanban board!</li>
        </ol>
      </mat-card-content>
    </mat-card>
  </div>
</div>
